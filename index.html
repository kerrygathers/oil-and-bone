<!DOCTYPE html>
<html>

<head>
    <meta charset=utf-8 />
    <title>Oil &amp; Bone</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />

    <link rel="icon" type="image/ico" href="./images/favicon-16x16.png">
    <link href='https://api.mapbox.com/mapbox-assembly/v0.21.2/assembly.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" />
    <link href="https://fonts.googleapis.com/css?family=Lora|IM Fell English:300,400,700" rel="stylesheet">
    <link href='css/styles.css' rel='stylesheet' />
</head>

<body>

    <header>
        <h1>Oil &amp; Bone</h1>
        <h4>American Ports in the Golden Age of Yankee Whaling</h4>
    </header>

    <div class='flex-parent viewport-full relative scroll-hidden'>

        <div id="map"></div>

        <!-- ui slider -->
        <div id='slider' class='range w300 bg-darken75 round px12'>
            <input type='range' min="1804" , max="1876" , value="1804" , step="1" />
        </div>

        <!-- turning point 1 -->
        <div class='turning-point-1'>
            <div id='tp1-button' class='turning-point bg-darken75 opacity75-on-hover round px3 py3'>
                <svg class='icon war-1812'><use xlink:href='#icon-info'/></svg>
            </div>
            <div class='tp-tooltip-1 flex-parent-inline flex-parent--center-cross flex-parent--column'>
                <div class='flex-child px6 py6 bg-darken75 align-center round txt-s'>
                    <p class='tp-name'>The War of 1812</p>
                </div>
                <span class='flex-child triangle triangle--d'></span>
            </div>
        </div>

        <div id="tp1-modal" class="modal">

            <!-- Modal content -->
            <div class="modal-content bg-black round px12 py12">
                <span id='tp1-close' class='close'><svg class='icon'><use xlink:href='#icon-close'/></svg></span>
                <div class='px12 py12'>
                    <p>The War of 1812</p>
                </div>
            </div>
        </div>

        <!-- turning point 2 -->
        <div class='turning-point-2'>
            <div id='tp2-button' class='turning-point bg-darken75 opacity75-on-hover round px3 py3'>
                <svg class='icon essex'><use xlink:href='#icon-info'/></svg>
            </div>
            <div class='tp-tooltip-2 flex-parent-inline flex-parent--center-cross flex-parent--column'>
                <div class='flex-child px6 py6 bg-darken75 align-center round txt-s'>
                    <p class='tp-name'>The Essex Disaster</p>
                </div>
                <span class='flex-child triangle triangle--d'></span>
            </div>
        </div>

        <div id="tp2-modal" class="modal">

            <!-- Modal content -->
            <div class="modal-content bg-black round px12 py12">
                <span id='tp2-close' class='close'><svg class='icon'><use xlink:href='#icon-close'/></svg></span>
                <div class='px12 py12'>
                    <p>The Essex Disaster</p>
                </div>
            </div>
        </div>

        <!-- turning point 3 -->
        <div class='turning-point-3'>
            <div id='tp3-button' class='turning-point bg-darken75 opacity75-on-hover round px3 py3'>
                <svg class='icon new-bedford'><use xlink:href='#icon-info'/></svg>
            </div>
            <div class='tp-tooltip-3 flex-parent-inline flex-parent--center-cross flex-parent--column'>
                <div class='flex-child px6 py6 bg-darken75 align-center round txt-s'>
                    <p class='tp-name'>The Rise of New Bedford</p>
                </div>
                <span class='flex-child triangle triangle--d'></span>
            </div>
        </div>

        <div id="tp3-modal" class="modal">

            <!-- Modal content -->
            <div class="modal-content bg-black round px12 py12">
                <span id='tp3-close' class='close'><svg class='icon'><use xlink:href='#icon-close'/></svg></span>
                <div class='px12 py12'>
                    <p>The Rise of New Bedford</p>
                </div>
            </div>
        </div>

        <!-- turning point 4 -->
        <div class='turning-point-4'>
            <div id='tp4-button' class='turning-point bg-darken75 opacity75-on-hover round px3 py3'>
                <svg class='icon golden-age'><use xlink:href='#icon-info'/></svg>
            </div>
            <div class='tp-tooltip-4 flex-parent-inline flex-parent--center-cross flex-parent--column'>
                <div class='flex-child px6 py6 bg-darken75 align-center round txt-s'>
                    <p class='tp-name'>Peak of the Golden Age</p>
                </div>
                <span class='flex-child triangle triangle--d'></span>
            </div>
        </div>

        <div id="tp4-modal" class="modal">

            <!-- Modal content -->
            <div class="modal-content bg-black round px12 py12">
                <span id='tp4-close' class='close'><svg class='icon'><use xlink:href='#icon-close'/></svg></span>
                <div class='px12 py12'>
                    <p>Peak of the Golden Age</p>
                </div>
            </div>
        </div>


        <!-- layer control -->
        <div id='layer-control' class='bg-darken75 round px12 py12'>
        </div>

        <!-- layer info -->
        <div id='layer-info' class='bg-darken75'>
            <div id='sperm-button'>
                <p class='layer-icon'><svg class='icon sperm-circle'><use xlink:href='#icon-info'/></svg></p>
            </div>
            <div id='whale-button'>
                <p class='layer-icon'><svg class='icon whale-circle'><use xlink:href='#icon-info'/></svg></p>
            </div>
            <div id='bone-button'>
                <p class='layer-icon'><svg class='icon bone-circle'><use xlink:href='#icon-info'/></svg></p>
            </div>
        </div>

        <!-- port legend -->
        <div id='port-legend' class='bg-darken75'>
            <p><img class="port-legend-icon" src="/images/harbor-11.svg" alt="Whaling Port"><span class="port-text">Whaling Port</span></p>
        </div>


        <!-- sperm oil modal -->
        <div id="sperm-modal" class="modal">

            <!-- Modal content -->
            <div class="modal-content bg-black round px12 py12">
                <span id='sperm-close' class='close'><svg class='icon'><use xlink:href='#icon-close'/></svg></span>
                <div class='px12 py12'>
                    <p>Sperm Oil</p>
                </div>
            </div>
        </div>

        <!-- whale oil modal -->
        <div id="whale-modal" class="modal">

            <!-- Modal content -->
            <div class="modal-content bg-black round px12 py12">
                <span id='whale-close' class='close'><svg class='icon'><use xlink:href='#icon-close'/></svg></span>
                <div class='px12 py12'>
                    <p>Whale Oil</p>
                </div>
            </div>
        </div>

        <!-- bone modal -->
        <div id="bone-modal" class="modal">

            <!-- Modal content -->
            <div class="modal-content bg-black round px12 py12">
                <span id='bone-close' class='close'><svg class='icon'><use xlink:href='#icon-close'/></svg></span>
                <div class='px12 py12'>
                    <p>Whale Bone</p>
                </div>
            </div>
        </div>

        <!-- legend -->
        <div id='legend' class='bg-darken75 round px12 py12 relative'>
            <div class='legend-circles relative w180'>
                <div class="legend-large border border--white absolute"></div>
                <div class="legend-small border border--white absolute"></div>
                <div class="legend-text legend-large-label absolute">$50m</div>
                <div class="legend-text legend-small-label absolute">$25m</div>
            </div>
            <p class='pt12 pb0 align-center legend-text'>in 2018 dollars</p>
        </div>

        <!-- year legend -->
        <div id='year-legend' class='bg-darken75 round px12 py12'>
            <p class='year txt-h5'><b><span></span></b></p>
        </div>

        <!-- info panel -->
        <div id='info' class='py6 px12 bg-darken75 round absolute'>
            <span id='info-close'>&times;</span>
            <h2 class='port-name my18'><span></span></h2>
            <div class='grid'>
                <div class='col--5'>
                    <p class='port-product txt-s mb6'>&nbsp;</p>
                    <p class='sperm'>Sperm Oil</p>
                    <p class='whale'>Whale Oil</p>
                    <p class='bone'>Whale Bone</p>
                </div>
                <div class='col--7'>
                    <!-- D3 sparklines -->
                    <p class='port-year txt-l align-center'>1804 &mdash; 1876</p>
                    <p class='my12'><span class='spermspark'></span></p>
                    <p class='my12'><span class='whalespark'></span></p>
                    <p class='my12'><span class='bonespark'></span></p>
                </div>
            </div>
        </div>
    </div>

    <script async defer src="https://api.mapbox.com/mapbox-assembly/v0.21.2/assembly.js"></script>
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
    <script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-omnivore/v0.3.1/leaflet-omnivore.min.js'></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-sparklines/2.1.2/jquery.sparkline.min.js"></script>
    <!-- Add d3-scale for proportional circle radius calculation -->
    <script src="https://d3js.org/d3-array.v1.min.js"></script>
    <script src="https://d3js.org/d3-collection.v1.min.js"></script>
    <script src="https://d3js.org/d3-color.v1.min.js"></script>
    <script src="https://d3js.org/d3-format.v1.min.js"></script>
    <script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
    <script src="https://d3js.org/d3-scale.v2.min.js"></script>
    <!-- Add numbrojs for number formatting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/numbro/2.0.5/numbro.min.js"></script>
    <script src='js/app.js'></script>

</body>

</html>
